<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link href="/light.ico" rel="icon" media="(prefers-color-scheme: light)">
  <link href="/dark.ico" rel="icon" media="(prefers-color-scheme: dark)">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <title>Mindsupremacy</title>

  <!-- Google Analytics -->
  <script>
    // Only load Google Analytics in production or when GA_TRACKING_ID is provided
    const GA_TRACKING_ID = '%VITE_GA_TRACKING_ID%';
    if (GA_TRACKING_ID && GA_TRACKING_ID !== '%VITE_GA_TRACKING_ID%' && GA_TRACKING_ID !== 'undefined') {
      // Load gtag script
      const script = document.createElement('script');
      script.async = true;
      script.src = `https://www.googletagmanager.com/gtag/js?id=${GA_TRACKING_ID}`;
      document.head.appendChild(script);
      
      // Initialize gtag
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', GA_TRACKING_ID, {
        page_title: document.title,
        page_location: window.location.href
      });
      
      // Make gtag available globally
      window.gtag = gtag;
      console.log('Google Analytics loaded with ID:', GA_TRACKING_ID);
    } else {
      // Development fallback - load with the direct ID
      const fallbackGA = 'G-CS7MYH9BF5';
      const script = document.createElement('script');
      script.async = true;
      script.src = `https://www.googletagmanager.com/gtag/js?id=${fallbackGA}`;
      document.head.appendChild(script);
      
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', fallbackGA, {
        page_title: document.title,
        page_location: window.location.href
      });
      
      window.gtag = gtag;
      console.log('Google Analytics loaded with fallback ID:', fallbackGA);
    }
  </script>

  <load src="head.html" />
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
</body>

</html>